<?xml version="1.0" encoding="UTF-8" ?>

<beans 
	xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd"
	>

  <!--
	<bean id="initSslParameters" class="org.esupportail.smsuapimail.services.smsSender.ws.InitSSLParameters">
		<property name="trustStore" value="${smsuapimail.ws.trustStore}" />
		<property name="trustStorePassword" value="${smsuapimail.ws.trustStorePassword}" />
		<property name="keyStore" value="${smsuapimail.ws.keyStore}" />
		<property name="keyStorePassword" value="${smsuapimail.ws.keyStorePassword}" />
	</bean>
  -->

	<bean id="xfireParams" abstract="true">
	    <property name="username" value="${smsuapimail.ws.basic.auth.username}" />
	    <property name="password" value="${smsuapimail.ws.basic.auth.password}" />
	    <property name="lookupServiceOnStartup" value="false" />
	</bean> 

	<bean id="remoteSendSms"
	    class="org.codehaus.xfire.spring.remoting.XFireClientFactoryBean" parent="xfireParams">
	    <property name="serviceClass" value="org.esupportail.smsuapimail.services.smsSender.ws.ISendSms" />
	    <property name="wsdlDocumentUrl" value="${smsuapimail.ws.backOfficeAddress}/SendSms?WSDL"/>
	</bean> 
	
	<bean id="smsSenderWsImpl"
		class="org.esupportail.smsuapimail.services.smsSender.ws.SmsSenderWsImpl">
		<property name="sendSms" ref="remoteSendSms"/>		
		<property name="fileName">
			<value type="java.lang.String">${smsuapimail.ws.messageIdfileName}</value>
		</property>
		<property name="senderId">
			<value type="java.lang.Integer">${smsuapimail.ws.senderId}</value>
		</property>
		<property name="groupSenderId">
			<value type="java.lang.Integer">${smsuapimail.ws.groupSenderId}</value>
		</property>
		<property name="serviceId">
			<value type="java.lang.Integer">${smsuapimail.ws.serviceId}</value>
		</property>
	</bean>
	
</beans>
